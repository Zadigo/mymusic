{"version":3,"file":"static/js/943.e7e8527f.js","mappings":"6JAEA,MAAMA,GAAYC,EAAAA,EAAAA,IAAY,SAAU,CACtCC,MAAO,KAAM,CACXC,WAAW,EACXC,YAAa,CAAC,IAEhBC,QAAS,CACPC,KAAMC,GACJC,KAAKJ,YAAcG,EACnBC,KAAKL,WAAY,CAClB,EACDM,QACED,KAAKL,WAAY,CAClB,GAEHO,QAAS,CACPC,gBACE,OAAQJ,GACCA,EAAKK,OAASJ,KAAKJ,YAAYQ,IAEzC,I,kGCjBL,MAAMC,GAAeZ,EAAAA,EAAAA,IAAY,YAAa,CAC5CC,MAAO,KAAM,CACXY,OAAQ,EACRC,UAAW,GACXC,gBAAiB,CAAEC,MAAO,IAC1BC,cAAc,IAEhBb,QAAS,CACPc,YAAaC,GACX,MAAMC,GAAWC,EAAAA,EAAAA,UAASF,GAC1BZ,KAAKQ,gBAAkBO,IAAAA,KAAOf,KAAKO,UAAW,CAAC,KAAMM,GACtD,EACDG,iBAEC,EACDC,iBAEC,EACDC,UACElB,KAAKM,OAAS,EACdN,KAAKU,cAAe,EAEpB,MAAMS,GAAQ3B,EAAAA,EAAAA,KACd2B,EAAMrB,KAAKE,KAAKJ,YACjB,EACDwB,gBACE,MAAMD,GAAQ3B,EAAAA,EAAAA,KACd2B,EAAMrB,KAAKE,KAAKJ,YACjB,EACDyB,eACErB,KAAKU,cAAe,EAEpB,MAAMS,GAAQ3B,EAAAA,EAAAA,KACd2B,EAAMlB,OACP,EACDqB,WACE,MAAMH,GAAQ3B,EAAAA,EAAAA,KACdQ,KAAKgB,iBACLG,EAAMrB,KAAKE,KAAKJ,YACjB,EACD2B,eACE,MAAMJ,GAAQ3B,EAAAA,EAAAA,KACdQ,KAAKiB,iBACLE,EAAMrB,KAAKE,KAAKJ,YACjB,EACD4B,aACE,MAAML,GAAQ3B,EAAAA,EAAAA,KAEdQ,KAAKM,OAAS,EACda,EAAMrB,KAAKE,KAAKJ,YACjB,EACD6B,cAAeC,GAAc,IACvBA,GAG+C,IAA7CC,OAAOC,KAAK5B,KAAKQ,iBAAiBqB,UAFtC7B,KAAKO,UAAYP,KAAK8B,SAASC,SAAS,aAM3C,GAEH7B,QAAS,CACPN,cACE,OAAOI,KAAKQ,gBAAgBC,MAAMT,KAAKM,SAAW,CAAC,CACpD,EACD0B,UACE,MAAO,EACR,EACDC,aACE,MAAMd,GAAQ3B,EAAAA,EAAAA,MACR,UAAEG,IAAcuC,EAAAA,EAAAA,IAAYf,GAClC,OAAOxB,EAAUwC,KAClB,I,qHC1EuBvB,GAAG,WAAWwB,MAAM,Q,GACrCxB,GAAG,SAASwB,MAAM,Q,0CAF3BC,EAAAA,EAAAA,IAQaC,EAAAA,WAAA,CARDlC,KAAK,WAAS,C,kBACxB,IAMM,CANKmC,EAAAA,cAAAA,EAAAA,EAAAA,OAAXC,EAAAA,EAAAA,IAMM,MANN,EAMM,EALJC,EAAAA,EAAAA,GAIM,MAJN,EAIM,gBAHJD,EAAAA,EAAAA,IAEME,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFsBC,EAAAA,UAAQ,CAAvBC,EAASC,M,WAAtBN,EAAAA,EAAAA,IAEM,OAFiCO,IAAKD,EAAIV,OAAK,mBAAYS,EAAQG,QAAe,6BAAxF,QACKH,EAAQI,SAAO,MADpB,YAFJ,kB,oBAaJ,GACE7C,KAAM,eACN8C,QACE,MAAM,SAAEC,IAAa9C,EAAAA,EAAAA,KACrB,MAAO,CACL8C,WAEH,EACDC,SAAU,CACRC,cACE,OAAOrD,KAAKmD,SAAStB,OAAS,CAChC,I,QCnBJ,MAAMyB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://frontend/./src/store/player.js","webpack://frontend/./src/store/playlists.js","webpack://frontend/./src/components/BaseMessages.vue","webpack://frontend/./src/components/BaseMessages.vue?1937"],"sourcesContent":["import { defineStore } from 'pinia'\r\n\r\nconst usePlayer = defineStore('player', {\r\n  state: () => ({\r\n    isPlaying: false,\r\n    currentSong: {}\r\n  }),\r\n  actions: {\r\n    play (song) {\r\n      this.currentSong = song\r\n      this.isPlaying = true\r\n    },\r\n    pause () {\r\n      this.isPlaying = false\r\n    }\r\n  },\r\n  getters: {\r\n    isCurrentSong () {\r\n      return (song) => {\r\n        return song.name === this.currentSong.name\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nexport {\r\n  usePlayer\r\n}\r\n","import { defineStore, storeToRefs } from 'pinia'\r\nimport { usePlayer } from './player'\r\nimport _, { toNumber } from 'lodash'\r\n\r\nconst usePlaylists = defineStore('playlists', {\r\n  state: () => ({\r\n    cursor: 0,\r\n    playlists: [],\r\n    currentPlaylist: { songs: [] },\r\n    playAllSongs: false\r\n  }),\r\n  actions: {\r\n    setPlaylist (id) {\r\n      const numberId = toNumber(id)\r\n      this.currentPlaylist = _.find(this.playlists, ['id', numberId])\r\n    },\r\n    increaseCursor () {\r\n      // Do something\r\n    },\r\n    decreaseCursor () {\r\n      // Do something\r\n    },\r\n    playAll () {\r\n      this.cursor = 0\r\n      this.playAllSongs = true\r\n\r\n      const store = usePlayer()\r\n      store.play(this.currentSong)\r\n    },\r\n    startPlaylist () {\r\n      const store = usePlayer()\r\n      store.play(this.currentSong)\r\n    },\r\n    stopPlaylist () {\r\n      this.playAllSongs = false\r\n\r\n      const store = usePlayer()\r\n      store.pause()\r\n    },\r\n    nextSong () {\r\n      const store = usePlayer()\r\n      this.increaseCursor()\r\n      store.play(this.currentSong)\r\n    },\r\n    previousSong () {\r\n      const store = usePlayer()\r\n      this.decreaseCursor()\r\n      store.play(this.currentSong)\r\n    },\r\n    randomSong () {\r\n      const store = usePlayer()\r\n      // TODO: Some random number\r\n      this.cursor = 0\r\n      store.play(this.currentSong)\r\n    },\r\n    loadFromCache (forceUpdate = false) {\r\n      if (forceUpdate) {\r\n        this.playlists = this.$session.retrieve('playlists')\r\n      } else {\r\n        if (Object.keys(this.currentPlaylist).length === 0) {\r\n          this.playlists = this.$session.retrieve('playlists')\r\n        }\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    currentSong () {\r\n      return this.currentPlaylist.songs[this.cursor] || {}\r\n    },\r\n    byGenre () {\r\n      return []\r\n    },\r\n    _isPlaying () {\r\n      const store = usePlayer()\r\n      const { isPlaying } = storeToRefs(store)\r\n      return isPlaying.value\r\n    }\r\n  }\r\n})\r\n\r\nexport {\r\n  usePlaylists\r\n}\r\n","<template>\r\n  <transition name=\"opacity\">\r\n    <div v-if=\"hasMessages\" id=\"messages\" class=\"mb-5\">\r\n      <div id=\"alerts\" class=\"mb-2\">\r\n        <div v-for=\"(message, i) in messages\" :key=\"i\" :class=\"[`alert-${message.type}`]\" class=\"alert rounded-0 shadow\">\r\n          {{ message.content }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { usePlaylists } from '../store/playlists'\r\n\r\nexport default {\r\n  name: 'BaseMessages',\r\n  setup () {\r\n    const { messages } = usePlaylists()\r\n    return {\r\n      messages\r\n    }\r\n  },\r\n  computed: {\r\n    hasMessages () {\r\n      return this.messages.length > 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#messages {\r\n  position: absolute;\r\n  height: auto;\r\n  width: 100%;\r\n  z-index: 1;\r\n}\r\n</style>\r\n","import { render } from \"./BaseMessages.vue?vue&type=template&id=d5293820&scoped=true\"\nimport script from \"./BaseMessages.vue?vue&type=script&lang=js\"\nexport * from \"./BaseMessages.vue?vue&type=script&lang=js\"\n\nimport \"./BaseMessages.vue?vue&type=style&index=0&id=d5293820&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d5293820\"]])\n\nexport default __exports__"],"names":["usePlayer","defineStore","state","isPlaying","currentSong","actions","play","song","this","pause","getters","isCurrentSong","name","usePlaylists","cursor","playlists","currentPlaylist","songs","playAllSongs","setPlaylist","id","numberId","toNumber","_","increaseCursor","decreaseCursor","playAll","store","startPlaylist","stopPlaylist","nextSong","previousSong","randomSong","loadFromCache","forceUpdate","Object","keys","length","$session","retrieve","byGenre","_isPlaying","storeToRefs","value","class","_createBlock","_Transition","$options","_createElementBlock","_createElementVNode","_Fragment","_renderList","$setup","message","i","key","type","content","setup","messages","computed","hasMessages","__exports__","render"],"sourceRoot":""}