"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[6525,6588,8608,5361,7850],{9255:function(t,e,s){s.d(e,{J_:function(){return d},jh:function(){return u},sk:function(){return c}});s(1703);var n=s(4806),r=s.n(n);function a(t,e){throw new Error(`${t} - ${e}`)}function i(t){return()=>s(2513)(`./${t}.vue`)}function l(t){return()=>s(2115)(`./${t}.vue`)}function o(t){return()=>s(3457)(`./${t}.vue`)}function c(t){return new Promise((e=>setTimeout(e,t)))}function u(){function t(t){let e=[];return"object"===typeof t&&(e=Object.values(t)),r().some(e,(t=>null===t||""===t))}function e(t){t.forEach((t=>"object"!==typeof t?(a("indexElements",`${t} is not a dictionnary`),null):(t.id=1,t)))}function s(t){var e=r().last(t);return"object"!==typeof e?(a("incrementLastId",`${e} is not a dictionnary`),null):e.id+1}function n(t){var e=null;if(t&&t[0]){const s=new FileReader;s.onload=t=>{e=t.target.result},s.readAsDataURL(t[0])}return e}function c(t){return t.map((t=>n(t)))}function u(t,e=28){return"string"!==typeof t?(a("truncate",`${t} should be a string`),""):`${t.slice(0,e)}...`}function d(t,e,s){return t.length>=e?u(t,s):t}function p(t,e){if(t.includes(e)){const s=r().indexOf(t,e);t.splice(s,1)}else t.push(e);return t}function y(t,e){var s=e+1;return s>t.length-1&&(s=0),s}function f(t,e){var s=e-1;return s<0&&(s=t.length-1),s}function h(t){document.getElementById(t).scrollIntoView()}function m(t){return t?t.charAt(0).toUpperCase()+t.slice(1):t}function g(t){var e=t.split(" "),s=e.map((t=>m(t)));return s.join(" ")}function v(t,e=!1){return e?`-${t}%`:`${t}%`}function w(t){var e=t.parentNode;return(t.scrollTop||e.scrollTop)/(e.scrollHeight-e.clientHeight)*100}function P(t,e=!0){return t.sort(((t,s)=>e?t-s:s-t))}return{capitalizeFirstLetter:m,capitalizeLetters:g,conditionalTruncate:d,decreaseIndex:f,formatAsPercentage:v,getVerticalScrollPercentage:w,hasNull:t,indexElements:e,incrementLastId:s,increaseIndex:y,listManager:p,loadComponent:o,loadLayout:l,loadView:i,quickSort:P,readFile:n,readMultipleFiles:c,scrollToSection:h,truncate:u}}function d(){function t(t){var e=new URL(t,window.location.href);return e.toString()}function e(t){var e={NODE_ENV:"production",BASE_URL:"/"}.rootUrl||"http://127.0.0.1:8000";return new URL(t,e).toString()}function s(t,e=100,s=0){let n=100,r=0;if(t){const a=new URL(t),i=a.searchParams.get("limit"),l=a.searchParams.get("offset");n=i||e,r=l||s}return new URLSearchParams({limit:n,offset:r})}function n(t,e=1){let s=1;if(t){const n=new URL(t),r=n.searchParams.get("page");s=r||e}return new URLSearchParams({page:s})}return{buildLimitOffset:s,getPageFromParams:n,mediaUrl:e,rebuildPath:t}}},7823:function(t,e,s){s.d(e,{n:function(){return r}});var n=s(3766);const r=(0,n.Q_)("player",{state:()=>({isPlaying:!1,currentSong:{}}),actions:{play(t){this.currentSong=t,this.isPlaying=!0},pause(){this.isPlaying=!1}},getters:{isCurrentSong(){return t=>t.name===this.currentSong.name}}})},6378:function(t,e,s){s.d(e,{K:function(){return l}});var n=s(3766),r=s(7823),a=s(4806),i=s.n(a);const l=(0,n.Q_)("playlists",{state:()=>({cursor:0,playlists:[],currentPlaylist:{songs:[]},playAllSongs:!1}),actions:{setPlaylist(t){this.loadFromCache();const e=(0,a.toNumber)(t);this.currentPlaylist=i().find(this.playlists,["id",e])},increaseCursor(){},decreaseCursor(){},playAll(){this.cursor=0,this.playAllSongs=!0;const t=(0,r.n)();t.play(this.currentSong)},startPlaylist(){const t=(0,r.n)();t.play(this.currentSong)},stopPlaylist(){this.playAllSongs=!1;const t=(0,r.n)();t.pause()},nextSong(){const t=(0,r.n)();this.increaseCursor(),t.play(this.currentSong)},previousSong(){const t=(0,r.n)();this.decreaseCursor(),t.play(this.currentSong)},randomSong(){const t=(0,r.n)();this.cursor=0,t.play(this.currentSong)},loadFromCache(t=!1){(t||0===this.playlists.length)&&(this.playlists=this.$session.retrieve("playlists"))}},getters:{currentSong(){return this.currentPlaylist.songs[this.cursor]||{}},byGenre(){return[]},_isPlaying(){const t=(0,r.n)(),{isPlaying:e}=(0,n.Jk)(t);return e.value}}})},5361:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var n=s(3396),r=s(7139);const a={class:"row"},i={class:"col-12"},l={class:"card bg-transparent shadow-none text-muted text-center"},o={class:"card-content"},c={class:"display-5"};function u(t,e,s,u,d,p){const y=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",i,[(0,n._)("div",l,[(0,n._)("div",o,[(0,n.Wm)(y,{icon:"fa-solid fa-icons",class:"mb-4",size:"5x"}),(0,n._)("h4",c,(0,r.zw)(s.content),1)])])])])}var d={name:"EmptyIteration",props:{content:{type:String,default:"There are no playlists available"}}},p=s(89);const y=(0,p.Z)(d,[["render",u]]);var f=y},7850:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var n=s(3396),r=s(7139);const a={class:"col-12 my-3"},i={key:0,class:"row"},l={class:"card my-2"},o=["src","alt"],c={class:"card-body"},u={class:"fw-bold card-title"},d={key:0,class:"card-text text-muted m-0"},p={key:1,class:"card-text text-muted m-0"};function y(t,e,s,y,f,h){const m=(0,n.up)("router-link"),g=(0,n.up)("empty-iteration-vue");return(0,n.wg)(),(0,n.iD)("div",a,[h.playlists.length>0?((0,n.wg)(),(0,n.iD)("div",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(h.playlists,(e=>((0,n.wg)(),(0,n.iD)("article",{key:e.id,class:"col-sm-12 col-md-4"},[(0,n.Wm)(m,{to:h.navigateToPlaylist(e),"aria-label":e.name,class:"text-decoration-none text-white"},{default:(0,n.w5)((()=>[(0,n._)("div",l,[(0,n._)("img",{src:y.mediaUrl(e.cover_image),alt:e.name,class:"card-img-top"},null,8,o),(0,n._)("div",c,[(0,n._)("h4",u,(0,r.zw)(e.name),1),s.userPlaylists?((0,n.wg)(),(0,n.iD)("p",d,(0,r.zw)(t.$t("Created by",{user:e.author.username})),1)):((0,n.wg)(),(0,n.iD)("p",p,(0,r.zw)(t.$t("Created by",{user:"spotify"})),1))])])])),_:2},1032,["to","aria-label"])])))),128))])):((0,n.wg)(),(0,n.j4)(g,{key:1,class:"py-5 my-5",content:"There are no playlists available"}))])}var f=s(9255),h=s(6378),m=s(5361),g={name:"ListPlaylists",components:{EmptyIterationVue:m["default"]},inject:{darkMode:["darkMode"]},props:{userPlaylists:{type:Boolean},otherPlaylist:{type:Array,default:()=>[]}},setup(){const t=(0,h.K)(),{mediaUrl:e}=(0,f.J_)();return{store:t,mediaUrl:e}},computed:{playlists(){return this.userPlaylists?this.store.playlists:this.otherPlaylist}},created(){this.userPlaylists&&this.getUserPlaylists()},methods:{async getUserPlaylists(){try{if(this.sessionStorage.hasPlaylists)this.store.playlists=this.sessionStorage.playlists;else{const t=await this.$http.get("playlists");this.store.$patch((e=>{e.playlists=t.data,this.$session.create("hasPlaylists",!0),this.$session.create("playlists",t.data)}))}}catch(t){console.error(t)}},navigateToPlaylist(t){return this.store.setPlaylist(t.id),{name:"playlist_view",params:{id:t.id}}}}},v=s(89);const w=(0,v.Z)(g,[["render",y],["__scopeId","data-v-1cc0989b"]]);var P=w},6588:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var n=s(3396),r=s(7139);const a={class:"card-header d-flex justify-content-between align-items-center"},i={class:"card-body"};function l(t,e,s,l,o,c){const u=(0,n.up)("router-link"),d=(0,n.up)("base-template-card");return(0,n.wg)(),(0,n.j4)(d,null,{default:(0,n.w5)((({darkMode:e})=>[(0,n._)("div",a,[(0,n._)("h4",{class:(0,r.C_)(e?"text-light":"text-dark")},(0,r.zw)(t.$t(s.name)),3),s.to?((0,n.wg)(),(0,n.j4)(u,{key:0,to:s.to,class:(0,r.C_)(e?"text-light":"text-dark")},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.$t("See all")),1)])),_:2},1032,["to","class"])):(0,n.kq)("",!0)]),(0,n._)("div",i,[(0,n.WI)(t.$slots,"default")])])),_:3})}var o=s(8608),c={name:"BaseSection",components:{BaseTemplateCard:o["default"]},props:{name:{type:String,required:!0},to:{type:String,required:!1}}},u=s(89);const d=(0,u.Z)(c,[["render",l]]);var p=d},8608:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var n=s(3396),r=s(7139);function a(t,e,s,a,i,l){return(0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)([l.cardClasses,"card"])},[(0,n.WI)(t.$slots,"default",{darkMode:a.darkMode},void 0,!0)],2)}var i={name:"BaseTemplateCard",props:{hoverable:{type:Boolean}},setup(){const t=(0,n.f3)("darkMode",!1);return{darkMode:t}},computed:{cardClasses(){return[this.darkMode?"bg-dark":null,this.hoverable?"hoverable":null]}}},l=s(89);const o=(0,l.Z)(i,[["render",a],["__scopeId","data-v-574177e7"]]);var c=o},6525:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var n=s(3396),r=s(7139);const a={id:"genre"},i={class:"container my-5"},l={class:"row"},o={class:"col-12 text-light mb-4"},c={class:"display-3 fw-bold"},u={class:"col-12"};function d(t,e,s,d,p,y){const f=(0,n.up)("list-playlists-vue"),h=(0,n.up)("base-section-vue");return(0,n.wg)(),(0,n.iD)("section",a,[(0,n._)("div",i,[(0,n._)("div",l,[(0,n._)("div",o,[(0,n._)("h2",c,(0,r.zw)(d.capitalizeFirstLetter(t.$route.params.genre)),1)]),(0,n._)("div",u,[(0,n.Wm)(h,{name:"Playlists"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{"other-playlist":p.playlists.top},null,8,["other-playlist"])])),_:1}),(0,n.Wm)(h,{name:"Novelties",class:"my-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{"other-playlist":p.playlists.newest},null,8,["other-playlist"])])),_:1})])])])])}var p=s(9255),y=s(6588),f=s(7850),h={name:"GenreView",components:{BaseSectionVue:y["default"],ListPlaylistsVue:f["default"]},setup(){const{capitalizeFirstLetter:t}=(0,p.jh)();return{capitalizeFirstLetter:t}},data(){return{playlists:[]}},created(){this.getPlaylists()},methods:{async getPlaylists(){try{const t=await this.$http.get(`playlists/${this.$route.params.genre}`);this.playlists=t.data}catch(t){console.error(t)}}}},m=s(89);const g=(0,m.Z)(h,[["render",d]]);var v=g}}]);
//# sourceMappingURL=6525.8985dce0.js.map