{"version":3,"file":"static/js/14.0a139df3.js","mappings":"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","sources":["webpack://frontend/./src/layouts/BaseMusicPlayer.vue","webpack://frontend/./src/layouts/BaseMusicPlayer.vue?89e5"],"sourcesContent":["<template>\r\n  <div class=\"card bg-transparent\">\r\n    <div class=\"card-body position-relative\">\r\n      <audio ref=\"link\" preload=\"auto\" @loadedmetadata=\"updateAudioDetails\" @timeupdate=\"updateAudioDetails\" @waiting=\"showSpinner = true\" @canplay=\"showSpinner = false\">\r\n        <!-- <source :src=\"require('../assets/music1.wav')\" type=\"audio/mpeg\"> -->\r\n        <source :src=\"checkSrc(src)\" type=\"audio/mpeg\">\r\n      </audio>\r\n\r\n      <div class=\"audio-controls\">\r\n        <div class=\"progress-bar-container\">\r\n          <div ref=\"progress\" class=\"progress-bar\" @click.prevent.stop=\"handleProgressBarClick\">\r\n            <div :style=\"{ width: progressPercentage + '%' }\" class=\"progress-bar-completed\">\r\n              <div :style=\"{ left: progressPercentage + '%' }\" class=\"progress-indicator\" draggable @mousedown=\"handleDrag\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-12 mt-3 d-flex justify-content-between\">\r\n          <span>{{ formattedCurrentTime }}</span>\r\n          <span>{{ formattedDuration }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"card-footer text-center\">\r\n      <div class=\"btn-group shadow-sm\">\r\n        <button :class=\"[!canPlay ? 'disabled' : null]\" type=\"button\" class=\"btn btn-primary\" @click=\"handleSkipPrevious\">\r\n          <font-awesome-icon icon=\"fa-solid fa-backward-step\" />\r\n        </button>\r\n\r\n        <button :class=\"[!canPlay ? 'disabled' : null]\" type=\"button\" class=\"btn btn-primary\" @click=\"toggleAudioPlay\">\r\n          <font-awesome-icon v-if=\"togglePlay\" icon=\"fa-solid fa-pause\"></font-awesome-icon>\r\n          <font-awesome-icon v-else icon=\"fa-solid fa-play\"></font-awesome-icon>\r\n        </button>\r\n\r\n        <button :class=\"[!canPlay ? 'disabled' : null]\" type=\"button\" class=\"btn btn-primary\" @click=\"handleSkipNext\">\r\n          <font-awesome-icon icon=\"fa-solid fa-forward-step\" />\r\n        </button>\r\n      </div>\r\n\r\n      <button type=\"button\" class=\"btn btn-info shadow-sm mt-1\">\r\n        <!-- <span class=\"mdi mdi-volume-high\"></span> -->\r\n        <!-- <span class=\"mdi mdi-volume-low\"></span> -->\r\n        <font-awesome-icon icon=\"fa-solid fa-volume-up\" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BaseMusicPlayer',\r\n  props: {\r\n    src: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    togglePlay: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  emits: {\r\n    'player-error': () => true,\r\n    'player-ready': () => true,\r\n    'playing': () => true,\r\n    'completed': () => true,\r\n    'paused': () => true,\r\n    'skipped-backwards': () => true,\r\n    'skipped': () => true,\r\n    'next-song': () => true\r\n  },\r\n  data: () => ({\r\n    showSpinner: true,\r\n    duration: 0,\r\n    currentTime: 0,\r\n    isPlaying: false\r\n  }),\r\n  // mounted() {\r\n  //   this.getAudioDetails()\r\n  // },\r\n  computed: {\r\n    formattedDuration () {\r\n      return this.formatTime(this.duration)\r\n    },\r\n    formattedCurrentTime () {\r\n      return this.formatTime(this.currentTime)\r\n    },\r\n    progressPercentage () {\r\n      if (this.currentTime === 0 && this.duration === 0) {\r\n        return 0\r\n      } else {\r\n        return (this.currentTime / this.duration) * 100\r\n      }\r\n    },\r\n    canPlay () {\r\n      return this.checkSrc(this.src) !== null\r\n    }\r\n  },\r\n  watch: {\r\n    src (current, previous) {\r\n      if (current !== previous) {\r\n        this.$refs.link.src = this.checkSrc(current)\r\n        this.updateAudioDetails()\r\n        this.toggleAudioPlay()\r\n      }\r\n    },\r\n    togglePlay () {\r\n      this.toggleAudioPlay()\r\n    },\r\n    currentTime (current) {\r\n      if (this.isPlaying && current === this.duration) {\r\n        this.$emit('completed')\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    checkSrc (src) {\r\n      if (!src) {\r\n        return null\r\n      } else {\r\n        // When there is no active song, the player\r\n        // sends an \"http://127.0.0.1:8000/undefined\"\r\n        // request to the backend. This protects\r\n        // against that\r\n        const url = new URL(src)\r\n        return url.pathname === '/undefined' ? null : url.toString()\r\n      }\r\n    },\r\n    toggleAudioPlay () {\r\n      try {\r\n        if (this.$refs.link.paused) {\r\n          this.isPlaying = true\r\n          this.$refs.link.play()\r\n          this.$emit('playing')\r\n        } else {\r\n          this.isPlaying = false\r\n          this.$refs.link.pause()\r\n          this.$emit('paused', this.currentTime)\r\n        }\r\n      } catch (error) {\r\n        // this.$refs.alert.showAlert()\r\n        this.$emit('player-error', 'Could not start track')\r\n      }\r\n    },\r\n    updateAudioDetails () {\r\n      this.duration = this.$refs.link.duration\r\n      this.currentTime = this.$refs.link.currentTime\r\n    },\r\n    handleSkipPrevious () {\r\n      try {\r\n        this.$emit('skipped-backwards', this.formattedCurrentTime)\r\n        this.$refs.link.currentTime = 0\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    handleSkipNext () {\r\n      // Get the next song\r\n      this.$emit('next-song')\r\n    },\r\n    handleProgressBarClick (e) {\r\n      const previousTime = this.currentTime\r\n      const currentTime = (this.duration * e.offsetX) / this.$refs.progress.offsetWidth\r\n\r\n      this.currentTime = currentTime\r\n      this.$refs.link.currentTime = currentTime\r\n      this.$emit('skipped', [previousTime, this.currentTime])\r\n    },\r\n    handleDrag (e) {\r\n      if (e.x !== 0 && e.y !== 0) {\r\n        const track = this.$refs.progress\r\n        if (track) {\r\n          let drag = 0\r\n          const left = e.pageX - track.getBoundingClientRect().left\r\n          drag = left\r\n\r\n          if (left < 0) {\r\n            drag = 0\r\n          }\r\n\r\n          if (left > track.offsetWidth) {\r\n            drag = track.offsetWidth\r\n          }\r\n\r\n          console.log(this.duration * (drag / track.offsetWidth))\r\n        }\r\n      }\r\n    },\r\n    formatTime (value) {\r\n      let hours = Math.floor(value / 3600)\r\n      let minutes = Math.floor((value % 3600 / 60))\r\n      let seconds = Math.floor(value % 60)\r\n\r\n      hours = hours < 10 ? '0' + hours : hours\r\n      minutes = minutes < 10 ? '0' + minutes : minutes\r\n      seconds = seconds < 10 ? '0' + seconds : seconds\r\n\r\n      if (hours > 0) {\r\n        // pass\r\n        return ':'\r\n      } else {\r\n        return `${minutes}:${seconds}`\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  transition: all .2s ease;\r\n}\r\n\r\n.audio-controls {\r\n  /* position: absolute; */\r\n  /* top: 0; */\r\n  width: 100%;\r\n  align-items: center;\r\n  /* border-radius: 6px; */\r\n}\r\n\r\n.progress-bar-completed {\r\n  display: flex;\r\n  border-radius: 6px;\r\n  height: 0.5rem;\r\n  background: #41b883;\r\n}\r\n\r\n.progress-bar {\r\n  position: relative;\r\n  /* display: flex;\r\n  flex: 1;\r\n  align-items: center; */\r\n  height: 0.5rem;\r\n  border-radius: 6px;\r\n  background-color: #000;\r\n  cursor: pointer;\r\n}\r\n\r\n.progress-indicator {\r\n  position: absolute;\r\n  left: 0;\r\n  height: 1.3rem;\r\n  width: 1.3rem;\r\n  border-radius: 1.3rem;\r\n  background-color: #fff;\r\n  border: 1px solid #000;\r\n  bottom: -0.5rem;\r\n  /* box-shadow: 0 .125rem .25rem rgba(0, 0, 0, .075) !important; */\r\n  cursor: pointer;\r\n  transition: all .3s ease;\r\n}\r\n\r\n.progress-indicator:hover {\r\n  animation: wide .3s ease-in;\r\n}\r\n\r\n@keyframes wide {\r\n  0% {\r\n    transform: scale(1, 1);\r\n  }\r\n  99% {\r\n    transform: scale(1.1, 1.1);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./BaseMusicPlayer.vue?vue&type=template&id=451797cb&scoped=true\"\nimport script from \"./BaseMusicPlayer.vue?vue&type=script&lang=js\"\nexport * from \"./BaseMusicPlayer.vue?vue&type=script&lang=js\"\n\nimport \"./BaseMusicPlayer.vue?vue&type=style&index=0&id=451797cb&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-451797cb\"]])\n\nexport default __exports__"],"names":["class","type","_createElementBlock","_createElementVNode","ref","preload","onLoadedmetadata","$options","onTimeupdate","onWaiting","_ctx","onCanplay","src","$props","onClick","style","width","left","draggable","onMousedown","_toDisplayString","_createVNode","_component_font_awesome_icon","icon","_createBlock","name","props","String","required","togglePlay","Boolean","emits","data","showSpinner","duration","currentTime","isPlaying","computed","formattedDuration","this","formatTime","formattedCurrentTime","progressPercentage","canPlay","checkSrc","watch","current","previous","$refs","link","updateAudioDetails","toggleAudioPlay","$emit","methods","url","URL","pathname","toString","paused","play","pause","error","handleSkipPrevious","console","handleSkipNext","handleProgressBarClick","e","previousTime","offsetX","progress","offsetWidth","handleDrag","x","y","track","drag","pageX","getBoundingClientRect","log","value","hours","Math","floor","minutes","seconds","__exports__","render"],"sourceRoot":""}