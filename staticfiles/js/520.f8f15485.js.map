{"version":3,"file":"static/js/520.f8f15485.js","mappings":"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","sources":["webpack://frontend/./src/composables/utils/index.js","webpack://frontend/./src/store/search.js","webpack://frontend/./src/components/EmptyIteration.vue","webpack://frontend/./src/components/EmptyIteration.vue?244b","webpack://frontend/./src/components/search/ListAlbums.vue","webpack://frontend/./src/components/search/ListAlbums.vue?4021","webpack://frontend/./src/layouts/ScrollableCards.vue","webpack://frontend/./src/layouts/ScrollableCards.vue?8d8e"],"sourcesContent":["import _ from 'lodash'\r\nimport { ref, watchEffect } from 'vue'\r\n\r\nfunction raiseError (functionName, message) {\r\n  throw new Error(`${functionName} - ${message}`)\r\n}\r\n\r\nexport function loadView (name) {\r\n  return () => import(`@/views/${name}.vue`)\r\n}\r\n\r\nexport function loadLayout (name) {\r\n  return () => import(`@/layouts/${name}.vue`)\r\n}\r\n\r\nexport function loadComponent (name) {\r\n  return () => import(`@/components/${name}.vue`)\r\n}\r\n\r\nexport function scrollToTop () {\r\n  window.scroll(0, 0)\r\n}\r\n\r\nexport function asyncTimeout (ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}\r\n\r\nexport function useUtilities () {\r\n  function hasNull (items) {\r\n    let itemsValues = []\r\n\r\n    if (typeof items === 'object') {\r\n      itemsValues = Object.values(items)\r\n    }\r\n\r\n    return _.some(itemsValues, (item) => {\r\n      return item === null || item === \"\"\r\n    })\r\n  }\r\n\r\n  function indexElements (items) {\r\n    items.forEach((item) => {\r\n      if (!(typeof item === 'object')) {\r\n        raiseError('indexElements', `${item} is not a dictionnary`)\r\n        return null\r\n      } else {\r\n        item.id = 1\r\n        return item\r\n      }\r\n    })\r\n  }\r\n  function incrementLastId (items) {\r\n    var lastItem = _.last(items)\r\n    if (!(typeof lastItem === 'object')) {\r\n      raiseError('incrementLastId', `${lastItem} is not a dictionnary`)\r\n      return null\r\n    } else {\r\n      return lastItem.id + 1\r\n    }\r\n  }\r\n\r\n  function readFile (file) {\r\n    var filePreview = null\r\n\r\n    if (file && file[0]) {\r\n      const reader = new FileReader\r\n\r\n      reader.onload = e => {\r\n        filePreview = e.target.result\r\n      }\r\n\r\n      reader.readAsDataURL(file[0])\r\n    }\r\n    return filePreview\r\n  }\r\n\r\n  function readMultipleFiles (files) {\r\n    return files.map((file) => {\r\n      return readFile(file)\r\n    })\r\n  }\r\n\r\n  function truncate (text, k = 28) {\r\n    if (!(typeof text === 'string')) {\r\n      raiseError('truncate', `${text} should be a string`)\r\n      return ''\r\n    } else {\r\n      return `${text.slice(0, k)}...`\r\n    }\r\n  }\r\n\r\n  function conditionalTruncate (text, limit, k) {\r\n    if (text.length >= limit) {\r\n      return truncate(text, k)\r\n    } else {\r\n      return text\r\n    }\r\n  }\r\n\r\n  function listManager (items, item) {\r\n    if (items.includes(item)) {\r\n      const index = _.indexOf(items, item)\r\n      items.splice(index, 1)\r\n    } else {\r\n      items.push(item)\r\n    }\r\n    return items\r\n  }\r\n\r\n  function increaseIndex (items, initialIndex) {\r\n    var newIndex = initialIndex + 1\r\n\r\n    if (newIndex > items.length - 1) {\r\n      newIndex = 0\r\n    }\r\n    return newIndex\r\n  }\r\n\r\n  function decreaseIndex (items, initialIndex) {\r\n    var newIndex = initialIndex - 1\r\n\r\n    if (newIndex < 0) {\r\n      newIndex = items.length - 1\r\n    }\r\n    return newIndex\r\n  }\r\n\r\n  function scrollToSection (elementId) {\r\n    document.getElementById(elementId).scrollIntoView()\r\n  }\r\n\r\n  function capitalizeFirstLetter (value) {\r\n    if (!value) {\r\n      return value\r\n    }\r\n    return value.charAt(0).toUpperCase() + value.slice(1)\r\n  }\r\n\r\n  function capitalizeLetters (value) {\r\n    var tokens = value.split(\" \")\r\n    var result = tokens.map((token) => {\r\n      return capitalizeFirstLetter(token)\r\n    })\r\n\r\n    return result.join(\" \")\r\n  }\r\n\r\n  function formatAsPercentage (value, negative = false) {\r\n    return negative ? `-${value}%` : `${value}%`\r\n  }\r\n\r\n  function getVerticalScrollPercentage (el) {\r\n    var parent = el.parentNode\r\n    return (el.scrollTop || parent.scrollTop) / (parent.scrollHeight - parent.clientHeight) * 100\r\n  }\r\n\r\n  function quickSort (items, ascending = true) {\r\n    return items.sort((a, b) => {\r\n      return ascending ? a - b : b - a\r\n    })\r\n  }\r\n\r\n  return {\r\n    capitalizeFirstLetter,\r\n    capitalizeLetters,\r\n    conditionalTruncate,\r\n    decreaseIndex,\r\n    formatAsPercentage,\r\n    getVerticalScrollPercentage,\r\n    hasNull,\r\n    indexElements,\r\n    incrementLastId,\r\n    increaseIndex,\r\n    listManager,\r\n    loadComponent,\r\n    loadLayout,\r\n    loadView,\r\n    quickSort,\r\n    readFile,\r\n    readMultipleFiles,\r\n    scrollToSection,\r\n    truncate\r\n  }\r\n}\r\n\r\nexport function useSocket () {\r\n  const socket = ref(null)\r\n\r\n  watchEffect(() => {\r\n    if (socket.value === null) {\r\n      return false\r\n    } else {\r\n      const result = socket.value === socket.value.OPEN\r\n      console.log(result)\r\n      return true\r\n    }\r\n  }, {\r\n    onTrigger(e) {\r\n      console.log('watchEffect', e)\r\n    }\r\n  })\r\n\r\n  function getWebsocketProtocole () {\r\n    var protocol = window.location.protocol\r\n    return protocol === 'https' ? 'wss://' : 'ws://'\r\n  }\r\n\r\n  function websocketRootAddress (path) {\r\n    var protocol = getWebsocketProtocole()\r\n    var host = process.env.HOST_ADDRESS || '127.0.0.1:8000'\r\n    return new URL(path, protocol + host).toString()\r\n  }\r\n\r\n  function createWebsocket (path, listeners = {}) {\r\n    // const socket = new WebSocket(websocketRootAddress(path))\r\n\r\n    // socket.onopen = listeners.onopen\r\n    // socket.onclose = listeners.onclose\r\n    // socket.onmessage = listeners.onmessage\r\n    // socket.onerror = listeners.onerror\r\n    \r\n    // return socket\r\n\r\n    const instance = new WebSocket(websocketRootAddress(path))\r\n    socket.value = instance\r\n    socket.value.onopen = listeners.onopen\r\n    socket.value.onclose = listeners.onclose\r\n    socket.value.onmessage = listeners.onmessage\r\n    socket.value.onerror = listeners.onerror\r\n  }\r\n\r\n  function send (type, items = {}) {\r\n    return JSON.stringify({ type: type, ...items })\r\n  }\r\n\r\n  return {\r\n    socket,\r\n    getWebsocketProtocole,\r\n    websocketRootAddress,\r\n    createWebsocket,\r\n    send\r\n  }\r\n}\r\n\r\nexport function useUrls () {\r\n  function rebuildPath (path) {\r\n    var instance = new URL(path, window.location.href)\r\n    return instance.toString()\r\n  }\r\n\r\n  function mediaUrl (path) {\r\n    var rootUrl = process.env.rootUrl || 'http://127.0.0.1:8000'\r\n    return new URL(path, rootUrl).toString()\r\n  }\r\n\r\n  function buildLimitOffset (url, limit = 100, offset = 0) {\r\n    let defaultLimit = 100\r\n    let defaultOffset = 0\r\n\r\n    if (url) {\r\n      const instance = new URL(url)\r\n      const potentialLimit = instance.searchParams.get('limit')\r\n      const potentialOffset = instance.searchParams.get('offset')\r\n\r\n      defaultLimit = potentialLimit || limit\r\n      defaultOffset = potentialOffset || offset\r\n    }\r\n\r\n    return new URLSearchParams({ limit: defaultLimit, offset: defaultOffset })\r\n  }\r\n\r\n  function getPageFromParams (url, page = 1) {\r\n    let defaultPage = 1\r\n\r\n    if (url) {\r\n      const instance = new URL(url)\r\n      const potentialPage = instance.searchParams.get('page')\r\n      defaultPage = potentialPage || page\r\n    }\r\n    return new URLSearchParams({ page: defaultPage })\r\n  }\r\n\r\n  return {\r\n    buildLimitOffset,\r\n    getPageFromParams,\r\n    mediaUrl,\r\n    rebuildPath\r\n  }\r\n}\r\n","import { defineStore } from 'pinia'\r\n\r\nconst useSearch = defineStore('search', {\r\n  state: () => ({\r\n    currentSearch: null,\r\n    currentArtist: {},\r\n    currentAlbum: {}  \r\n  }),\r\n  actions: {\r\n  },\r\n  getters: {\r\n    searchHistory () {\r\n      return []\r\n    }\r\n  }\r\n})\r\n\r\nexport {\r\n  useSearch\r\n}\r\n","<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card bg-transparent shadow-none text-muted text-center\">\r\n        <div class=\"card-content\">\r\n          <font-awesome-icon icon=\"fa-solid fa-icons\" class=\"mb-4\" size=\"5x\" />\r\n          <h4 class=\"display-5\">\r\n            {{ content }}\r\n          </h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EmptyIteration',\r\n  props: {\r\n    content: {\r\n      type: String,\r\n      default: 'There are no playlists available'\r\n    }\r\n  }\r\n  \r\n}\r\n</script>\r\n","import { render } from \"./EmptyIteration.vue?vue&type=template&id=27dc3b9a\"\nimport script from \"./EmptyIteration.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyIteration.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <scrollable-cards-vue v-if=\"albums.length > 0\">\r\n    <template #default>\r\n      <article v-for=\"album in albums\" :key=\"album.id\" class=\"card bg-dark mx-2\">\r\n        <a href class=\"text-light\" @click.prevent=\"goToPage(album)\">\r\n          <img :src=\"mediaUrl(album.cover_image_thumbnail)\" :alt=\"album.artist.name\" class=\"card-img-top\">\r\n          <div class=\"card-body\">\r\n            <h6 class=\"card-title fw-bold\">\r\n              {{ album.name }}\r\n            </h6>\r\n            <p class=\"card-text\">2015</p>\r\n          </div>\r\n        </a>\r\n      </article>\r\n    </template>\r\n  </scrollable-cards-vue>\r\n\r\n  <empty-iteration-vue v-else content=\"No albums\" />\r\n</template>\r\n\r\n<script>\r\nimport { useUrls } from '@/composables/utils'\r\n\r\nimport ScrollableCardsVue from '@/layouts/ScrollableCards.vue'\r\nimport { useSearch } from '@/store/search'\r\nimport EmptyIterationVue from '../EmptyIteration.vue'\r\n\r\nexport default {\r\n  name: 'ListAlbums',\r\n  components: {\r\n    ScrollableCardsVue,\r\n    EmptyIterationVue\r\n  },\r\n  inject: {\r\n    albums: {\r\n      default: () => []\r\n    }\r\n  },\r\n  setup () {\r\n    const { mediaUrl } = useUrls()\r\n    const store = useSearch()\r\n    return {\r\n      mediaUrl,\r\n      store\r\n    }\r\n  },\r\n  methods: {\r\n    goToPage (album) {\r\n      this.store.currentAlbum = album\r\n      this.$router.push({ name: 'album_view', params: { id: '4AcFhqecUgQOUNmdcdngEq' } })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  min-width: 150px;\r\n}\r\n</style>\r\n","import { render } from \"./ListAlbums.vue?vue&type=template&id=75787646&scoped=true\"\nimport script from \"./ListAlbums.vue?vue&type=script&lang=js\"\nexport * from \"./ListAlbums.vue?vue&type=script&lang=js\"\n\nimport \"./ListAlbums.vue?vue&type=style&index=0&id=75787646&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75787646\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"row\">\r\n    <div class=\"wrapper\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n.wrapper {\r\n  overflow-x: scroll;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  padding: 1rem;\r\n  overflow-x: scroll;\r\n  scroll-behavior: smooth;\r\n}\r\n\r\n.wrapper::-webkit-scrollbar {\r\n  height: .25em;\r\n}\r\n\r\n.wrapper::-webkit-scrollbar-track {\r\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, .2);\r\n}\r\n\r\n.wrapper::-webkit-scrollbar-thumb {\r\n  background-color: darkgrey;\r\n}\r\n</style>\r\n","import { render } from \"./ScrollableCards.vue?vue&type=template&id=1424d073&scoped=true\"\nconst script = {}\n\nimport \"./ScrollableCards.vue?vue&type=style&index=0&id=1424d073&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1424d073\"]])\n\nexport default __exports__"],"names":["asyncTimeout","ms","Promise","resolve","setTimeout","useUrls","rebuildPath","path","instance","URL","window","location","href","toString","mediaUrl","rootUrl","process","buildLimitOffset","url","limit","offset","defaultLimit","defaultOffset","potentialLimit","searchParams","get","potentialOffset","URLSearchParams","getPageFromParams","page","defaultPage","potentialPage","useSearch","defineStore","state","currentSearch","currentArtist","currentAlbum","actions","getters","searchHistory","class","_createElementBlock","_createElementVNode","_createVNode","_component_font_awesome_icon","icon","size","_toDisplayString","$props","name","props","content","type","String","default","__exports__","render","$options","length","_createBlock","_component_scrollable_cards_vue","key","_Fragment","_renderList","album","id","onClick","src","$setup","cover_image_thumbnail","alt","artist","_hoisted_5","_component_empty_iteration_vue","components","ScrollableCardsVue","EmptyIterationVue","inject","albums","setup","store","methods","goToPage","this","$router","push","params","_renderSlot","_ctx","undefined","script"],"sourceRoot":""}