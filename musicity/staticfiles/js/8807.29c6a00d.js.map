{"version":3,"file":"static/js/8807.29c6a00d.js","mappings":"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","sources":["webpack://frontend/./src/layouts/BaseMusicPlayer.vue","webpack://frontend/./src/layouts/BaseMusicPlayer.vue?89e5"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"py-1\">\r\n      <div class=\"p-1 mb-3 text-center\">\r\n        <button :class=\"[!canPlay ? 'disabled' : null]\" type=\"button\" class=\"btn btn-primary\" @click=\"handleSkipPrevious\">\r\n          <font-awesome-icon icon=\"fa-solid fa-backward-step\" />\r\n        </button>\r\n      \r\n        <button :class=\"[!canPlay ? 'disabled' : null]\" type=\"button\" class=\"btn btn-primary mx-1\" @click=\"toggleAudioPlay\">\r\n          <font-awesome-icon v-if=\"togglePlay\" icon=\"fa-solid fa-pause\"></font-awesome-icon>\r\n          <font-awesome-icon v-else icon=\"fa-solid fa-play\"></font-awesome-icon>\r\n        </button>\r\n      \r\n        <button :class=\"[!canPlay ? 'disabled' : null]\" type=\"button\" class=\"btn btn-primary\" @click=\"handleSkipNext\">\r\n          <font-awesome-icon icon=\"fa-solid fa-forward-step\" />\r\n        </button>\r\n\r\n        <button :class=\"[!canPlay ? 'disabled' : null]\" type=\"button\" class=\"btn btn-primary mx-1\" @click.prevent>\r\n          <font-awesome-icon icon=\"fa-solid fa-repeat\" />\r\n        </button>\r\n      \r\n        <button type=\"button\" class=\"btn btn-info shadow-sm\">\r\n          <!-- <span class=\"mdi mdi-volume-high\"></span> -->\r\n          <!-- <span class=\"mdi mdi-volume-low\"></span> -->\r\n          <font-awesome-icon icon=\"fa-solid fa-volume-up\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div>\r\n        <audio ref=\"link\" preload=\"auto\" @loadedmetadata=\"updateAudioDetails\" @timeupdate=\"updateAudioDetails\" @waiting=\"showSpinner=true\" @canplay=\"showSpinner=false\">\r\n          <!-- <source :src=\"require('../assets/music1.wav')\" type=\"audio/mpeg\"> -->\r\n          <source :src=\"checkSrc(src)\" type=\"audio/mpeg\">\r\n        </audio>\r\n  \r\n        <div class=\"audio-controls\">\r\n          <div class=\"music-control-progress-container\">\r\n            <div ref=\"videoProgress\" class=\"track\" @click.stop.prevent=\"handleProgressBarClick($event)\">\r\n              <div :style=\"{ width: `${progressPercentage}%` }\" class=\"track-low\"></div>\r\n              <div class=\"track-selection\"></div>\r\n            </div>\r\n          \r\n            <div :style=\"{ left: `${progress}%` }\" class=\"handle\"></div>\r\n          </div>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <div class=\"col-12 mt-1 d-flex justify-content-between\">\r\n            <span>{{ formattedCurrentTime }}</span>\r\n            <span>{{ formattedDuration }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BaseMusicPlayer',\r\n  props: {\r\n    src: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    togglePlay: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  emits: {\r\n    'player-error' () { \r\n      return true\r\n    },\r\n    'player-ready' () { \r\n      return true\r\n    },\r\n    'playing' () { \r\n      return true\r\n    },\r\n    'completed' () { \r\n      return true\r\n    },\r\n    'paused' () { \r\n      return true\r\n    },\r\n    'skipped-backwards' () { \r\n      return true\r\n    },\r\n    'update:time' () { \r\n      return true\r\n    },\r\n    'next-song' () { \r\n      return true\r\n    },\r\n    'count:view' () {\r\n      return true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showSpinner: true,\r\n      duration: 0,\r\n      currentTime: 0,\r\n      isPlaying: false,\r\n      countView: false\r\n    }\r\n  },\r\n  // mounted() {\r\n  //   this.getAudioDetails()\r\n  // },\r\n  computed: {\r\n    formattedDuration () {\r\n      return this.formatTime(this.duration)\r\n    },\r\n    formattedCurrentTime () {\r\n      return this.formatTime(this.currentTime)\r\n    },\r\n    progressPercentage () {\r\n      if (this.currentTime === 0 && this.duration === 0) {\r\n        return 0\r\n      } else {\r\n        return (this.currentTime / this.duration) * 100\r\n      }\r\n    },\r\n    canPlay () {\r\n      return this.checkSrc(this.src) !== null\r\n    }\r\n  },\r\n  watch: {\r\n    src (current, previous) {\r\n      if (current !== previous) {\r\n        this.$refs.link.src = this.checkSrc(current)\r\n        this.updateAudioDetails()\r\n        this.toggleAudioPlay()\r\n      }\r\n    },\r\n    togglePlay () {\r\n      this.toggleAudioPlay()\r\n    },\r\n    currentTime (current) {\r\n      if (this.isPlaying && current === this.duration) {\r\n        this.$emit('completed')\r\n      }\r\n\r\n      if (!this.countView && current >= 30) {\r\n        // Emit an event when the user has\r\n        // listened to a track more than\r\n        // 30 seconds. This is extremely\r\n        // useful for streaming projects\r\n        this.$emit('count:view')\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    checkSrc (src) {\r\n      if (!src) {\r\n        return null\r\n      } else {\r\n        // When there is no active song, the player\r\n        // sends an \"http://127.0.0.1:8000/undefined\"\r\n        // request to the backend. This protects\r\n        // against that\r\n        const url = new URL(src)\r\n        return url.pathname === '/undefined' ? null : url.toString()\r\n      }\r\n    },\r\n    toggleAudioPlay () {\r\n      try {\r\n        if (this.$refs.link.paused) {\r\n          this.isPlaying = true\r\n          this.$refs.link.play()\r\n          this.$emit('playing')\r\n        } else {\r\n          this.isPlaying = false\r\n          this.$refs.link.pause()\r\n          this.$emit('paused', this.currentTime)\r\n        }\r\n      } catch (error) {\r\n        // this.$refs.alert.showAlert()\r\n        this.$emit('player-error', 'Could not start track')\r\n      }\r\n    },\r\n    updateAudioDetails () {\r\n      this.duration = this.$refs.link.duration\r\n      this.currentTime = this.$refs.link.currentTime\r\n    },\r\n    handleSkipPrevious () {\r\n      try {\r\n        this.$emit('skipped-backwards', this.formattedCurrentTime)\r\n        this.$refs.link.currentTime = 0\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    handleSkipNext () {\r\n      // Get the next song\r\n      this.$emit('next-song')\r\n    },\r\n    handleProgressBarClick (e) {\r\n      // const previousTime = this.currentTime\r\n      // const currentTime = (this.duration * e.offsetX) / this.$refs.progress.offsetWidth\r\n\r\n      // this.currentTime = currentTime\r\n      // this.$refs.link.currentTime = currentTime\r\n      // this.$emit('skipped', [previousTime, this.currentTime])\r\n      const currentTime = (this.duration * e.offsetX) / this.$refs.videoProgress.offsetWidth\r\n      this.currentTime = currentTime\r\n      this.$refs.videoPlayer.currentTime = currentTime\r\n      this.$emit('update:time', currentTime)\r\n    },\r\n    handleDrag (e) {\r\n      if (e.x !== 0 && e.y !== 0) {\r\n        const track = this.$refs.progress\r\n        if (track) {\r\n          let drag = 0\r\n          const left = e.pageX - track.getBoundingClientRect().left\r\n          drag = left\r\n\r\n          if (left < 0) {\r\n            drag = 0\r\n          }\r\n\r\n          if (left > track.offsetWidth) {\r\n            drag = track.offsetWidth\r\n          }\r\n\r\n          console.log(this.duration * (drag / track.offsetWidth))\r\n        }\r\n      }\r\n    },\r\n    formatTime (value) {\r\n      let hours = Math.floor(value / 3600)\r\n      let minutes = Math.floor((value % 3600 / 60))\r\n      let seconds = Math.floor(value % 60)\r\n\r\n      hours = hours < 10 ? '0' + hours : hours\r\n      minutes = minutes < 10 ? '0' + minutes : minutes\r\n      seconds = seconds < 10 ? '0' + seconds : seconds\r\n\r\n      if (hours > 0) {\r\n        // pass\r\n        return ':'\r\n      } else {\r\n        return `${minutes}:${seconds}`\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  transition: all .2s ease;\r\n}\r\n\r\n.audio-controls {\r\n  /* position: absolute; */\r\n  /* top: 0; */\r\n  width: 100%;\r\n  align-items: center;\r\n  /* border-radius: 6px; */\r\n}\r\n\r\n.progress-bar-completed {\r\n  display: flex;\r\n  border-radius: 6px;\r\n  height: 0.5rem;\r\n  background: #41b883;\r\n}\r\n\r\n.music-control-progress-container {\r\n  position: relative;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  width: 100% !important;\r\n  height: 20px;\r\n  margin-bottom: .5rem;\r\n}\r\n\r\n.music-control-progress-container .track {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  background-color: white;\r\n  background-repeat: repeat-x;\r\n  box-shadow: inset 0 1px 2px rgb(0 0 0 / 10%);\r\n  border-radius: 4px;\r\n  height: 10px;\r\n  width: 100%;\r\n  margin-top: -5px;\r\n  top: 50%;\r\n  left: 0;\r\n}\r\n\r\n.music-control-progress-container .track-low {\r\n  position: absolute;\r\n  height: 100%;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: transparent;\r\n  box-sizing: border-box;\r\n  border-radius: 4px;\r\n  background-color: #0d6efd;\r\n  /* width: 50%; */\r\n}\r\n\r\n.music-control-progress-container .handle {\r\n  position: absolute;\r\n  background-color: #fff !important;\r\n  background-repeat: repeat-x;\r\n  top: 0;\r\n  width: 20px;\r\n  height: 20px;\r\n  filter: none;\r\n  border: 0 solid transparent;\r\n  border-radius: 50%;\r\n  margin-left: -10px;\r\n}\r\n</style>\r\n","import { render } from \"./BaseMusicPlayer.vue?vue&type=template&id=526b0f2e&scoped=true\"\nimport script from \"./BaseMusicPlayer.vue?vue&type=script&lang=js\"\nexport * from \"./BaseMusicPlayer.vue?vue&type=script&lang=js\"\n\nimport \"./BaseMusicPlayer.vue?vue&type=style&index=0&id=526b0f2e&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-526b0f2e\"]])\n\nexport default __exports__"],"names":["class","type","_createElementVNode","_createElementBlock","$options","onClick","_createVNode","_component_font_awesome_icon","icon","$props","_createBlock","ref","preload","onLoadedmetadata","onTimeupdate","onWaiting","$data","onCanplay","src","$event","style","width","_hoisted_8","left","_ctx","_toDisplayString","name","props","String","required","togglePlay","Boolean","emits","data","showSpinner","duration","currentTime","isPlaying","countView","computed","formattedDuration","this","formatTime","formattedCurrentTime","progressPercentage","canPlay","checkSrc","watch","current","previous","$refs","link","updateAudioDetails","toggleAudioPlay","$emit","methods","url","URL","pathname","toString","paused","play","pause","error","handleSkipPrevious","console","handleSkipNext","handleProgressBarClick","e","offsetX","videoProgress","offsetWidth","videoPlayer","handleDrag","x","y","track","progress","drag","pageX","getBoundingClientRect","log","value","hours","Math","floor","minutes","seconds","__exports__","render"],"sourceRoot":""}