{"version":3,"file":"static/js/401.974d6945.js","mappings":"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","sources":["webpack://frontend/./src/composables/utils/index.js","webpack://frontend/./src/store/player.js","webpack://frontend/./src/store/playlists.js","webpack://frontend/./src/components/EmptyIteration.vue","webpack://frontend/./src/components/EmptyIteration.vue?244b","webpack://frontend/./src/components/playlists/ListAlbums.vue","webpack://frontend/./src/components/playlists/ListArtists.vue","webpack://frontend/./src/components/playlists/ListPlaylists.vue","webpack://frontend/./src/components/playlists/ListPlaylists.vue?031e","webpack://frontend/./src/views/PlaylistsView.vue","webpack://frontend/./src/views/PlaylistsView.vue?88b1"],"sourcesContent":["import _ from 'lodash'\r\nimport { ref, watchEffect } from 'vue'\r\n\r\nfunction raiseError (functionName, message) {\r\n  throw new Error(`${functionName} - ${message}`)\r\n}\r\n\r\nexport function loadView (name) {\r\n  return () => import(`@/views/${name}.vue`)\r\n}\r\n\r\nexport function loadLayout (name) {\r\n  return () => import(`@/layouts/${name}.vue`)\r\n}\r\n\r\nexport function loadComponent (name) {\r\n  return () => import(`@/components/${name}.vue`)\r\n}\r\n\r\nexport function scrollToTop () {\r\n  window.scroll(0, 0)\r\n}\r\n\r\nexport function asyncTimeout (ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms))\r\n}\r\n\r\nexport function useUtilities () {\r\n  function hasNull (items) {\r\n    let itemsValues = []\r\n\r\n    if (typeof items === 'object') {\r\n      itemsValues = Object.values(items)\r\n    }\r\n\r\n    return _.some(itemsValues, (item) => {\r\n      return item === null || item === \"\"\r\n    })\r\n  }\r\n\r\n  function indexElements (items) {\r\n    items.forEach((item) => {\r\n      if (!(typeof item === 'object')) {\r\n        raiseError('indexElements', `${item} is not a dictionnary`)\r\n        return null\r\n      } else {\r\n        item.id = 1\r\n        return item\r\n      }\r\n    })\r\n  }\r\n  function incrementLastId (items) {\r\n    var lastItem = _.last(items)\r\n    if (!(typeof lastItem === 'object')) {\r\n      raiseError('incrementLastId', `${lastItem} is not a dictionnary`)\r\n      return null\r\n    } else {\r\n      return lastItem.id + 1\r\n    }\r\n  }\r\n\r\n  function readFile (file) {\r\n    var filePreview = null\r\n\r\n    if (file && file[0]) {\r\n      const reader = new FileReader\r\n\r\n      reader.onload = e => {\r\n        filePreview = e.target.result\r\n      }\r\n\r\n      reader.readAsDataURL(file[0])\r\n    }\r\n    return filePreview\r\n  }\r\n\r\n  function readMultipleFiles (files) {\r\n    return files.map((file) => {\r\n      return readFile(file)\r\n    })\r\n  }\r\n\r\n  function truncate (text, k = 28) {\r\n    if (!(typeof text === 'string')) {\r\n      raiseError('truncate', `${text} should be a string`)\r\n      return ''\r\n    } else {\r\n      return `${text.slice(0, k)}...`\r\n    }\r\n  }\r\n\r\n  function conditionalTruncate (text, limit, k) {\r\n    if (text.length >= limit) {\r\n      return truncate(text, k)\r\n    } else {\r\n      return text\r\n    }\r\n  }\r\n\r\n  function listManager (items, item) {\r\n    if (items.includes(item)) {\r\n      const index = _.indexOf(items, item)\r\n      items.splice(index, 1)\r\n    } else {\r\n      items.push(item)\r\n    }\r\n    return items\r\n  }\r\n\r\n  function increaseIndex (items, initialIndex) {\r\n    var newIndex = initialIndex + 1\r\n\r\n    if (newIndex > items.length - 1) {\r\n      newIndex = 0\r\n    }\r\n    return newIndex\r\n  }\r\n\r\n  function decreaseIndex (items, initialIndex) {\r\n    var newIndex = initialIndex - 1\r\n\r\n    if (newIndex < 0) {\r\n      newIndex = items.length - 1\r\n    }\r\n    return newIndex\r\n  }\r\n\r\n  function scrollToSection (elementId) {\r\n    document.getElementById(elementId).scrollIntoView()\r\n  }\r\n\r\n  function capitalizeFirstLetter (value) {\r\n    if (!value) {\r\n      return value\r\n    }\r\n    return value.charAt(0).toUpperCase() + value.slice(1)\r\n  }\r\n\r\n  function capitalizeLetters (value) {\r\n    var tokens = value.split(\" \")\r\n    var result = tokens.map((token) => {\r\n      return capitalizeFirstLetter(token)\r\n    })\r\n\r\n    return result.join(\" \")\r\n  }\r\n\r\n  function formatAsPercentage (value, negative = false) {\r\n    return negative ? `-${value}%` : `${value}%`\r\n  }\r\n\r\n  function getVerticalScrollPercentage (el) {\r\n    var parent = el.parentNode\r\n    return (el.scrollTop || parent.scrollTop) / (parent.scrollHeight - parent.clientHeight) * 100\r\n  }\r\n\r\n  function quickSort (items, ascending = true) {\r\n    return items.sort((a, b) => {\r\n      return ascending ? a - b : b - a\r\n    })\r\n  }\r\n\r\n  return {\r\n    capitalizeFirstLetter,\r\n    capitalizeLetters,\r\n    conditionalTruncate,\r\n    decreaseIndex,\r\n    formatAsPercentage,\r\n    getVerticalScrollPercentage,\r\n    hasNull,\r\n    indexElements,\r\n    incrementLastId,\r\n    increaseIndex,\r\n    listManager,\r\n    loadComponent,\r\n    loadLayout,\r\n    loadView,\r\n    quickSort,\r\n    readFile,\r\n    readMultipleFiles,\r\n    scrollToSection,\r\n    truncate\r\n  }\r\n}\r\n\r\nexport function useSocket () {\r\n  const socket = ref(null)\r\n\r\n  watchEffect(() => {\r\n    if (socket.value === null) {\r\n      return false\r\n    } else {\r\n      const result = socket.value === socket.value.OPEN\r\n      console.log(result)\r\n      return true\r\n    }\r\n  }, {\r\n    onTrigger(e) {\r\n      console.log('watchEffect', e)\r\n    }\r\n  })\r\n\r\n  function getWebsocketProtocole () {\r\n    var protocol = window.location.protocol\r\n    return protocol === 'https' ? 'wss://' : 'ws://'\r\n  }\r\n\r\n  function websocketRootAddress (path) {\r\n    var protocol = getWebsocketProtocole()\r\n    var host = process.env.HOST_ADDRESS || '127.0.0.1:8000'\r\n    return new URL(path, protocol + host).toString()\r\n  }\r\n\r\n  function createWebsocket (path, listeners = {}) {\r\n    // const socket = new WebSocket(websocketRootAddress(path))\r\n\r\n    // socket.onopen = listeners.onopen\r\n    // socket.onclose = listeners.onclose\r\n    // socket.onmessage = listeners.onmessage\r\n    // socket.onerror = listeners.onerror\r\n    \r\n    // return socket\r\n\r\n    const instance = new WebSocket(websocketRootAddress(path))\r\n    socket.value = instance\r\n    socket.value.onopen = listeners.onopen\r\n    socket.value.onclose = listeners.onclose\r\n    socket.value.onmessage = listeners.onmessage\r\n    socket.value.onerror = listeners.onerror\r\n  }\r\n\r\n  function send (type, items = {}) {\r\n    return JSON.stringify({ type: type, ...items })\r\n  }\r\n\r\n  return {\r\n    socket,\r\n    getWebsocketProtocole,\r\n    websocketRootAddress,\r\n    createWebsocket,\r\n    send\r\n  }\r\n}\r\n\r\nexport function useUrls () {\r\n  function rebuildPath (path) {\r\n    var instance = new URL(path, window.location.href)\r\n    return instance.toString()\r\n  }\r\n\r\n  function mediaUrl (path) {\r\n    var rootUrl = process.env.rootUrl || 'http://127.0.0.1:8000'\r\n    return new URL(path, rootUrl).toString()\r\n  }\r\n\r\n  function buildLimitOffset (url, limit = 100, offset = 0) {\r\n    let defaultLimit = 100\r\n    let defaultOffset = 0\r\n\r\n    if (url) {\r\n      const instance = new URL(url)\r\n      const potentialLimit = instance.searchParams.get('limit')\r\n      const potentialOffset = instance.searchParams.get('offset')\r\n\r\n      defaultLimit = potentialLimit || limit\r\n      defaultOffset = potentialOffset || offset\r\n    }\r\n\r\n    return new URLSearchParams({ limit: defaultLimit, offset: defaultOffset })\r\n  }\r\n\r\n  function getPageFromParams (url, page = 1) {\r\n    let defaultPage = 1\r\n\r\n    if (url) {\r\n      const instance = new URL(url)\r\n      const potentialPage = instance.searchParams.get('page')\r\n      defaultPage = potentialPage || page\r\n    }\r\n    return new URLSearchParams({ page: defaultPage })\r\n  }\r\n\r\n  return {\r\n    buildLimitOffset,\r\n    getPageFromParams,\r\n    mediaUrl,\r\n    rebuildPath\r\n  }\r\n}\r\n","import { defineStore } from 'pinia'\r\n\r\nconst usePlayer = defineStore('player', {\r\n  state: () => ({\r\n    isPlaying: false,\r\n    currentSong: {}\r\n  }),\r\n  actions: {\r\n    play (song) {\r\n      this.currentSong = song\r\n      this.isPlaying = true\r\n    },\r\n    pause () {\r\n      this.isPlaying = false\r\n    }\r\n  },\r\n  getters: {\r\n    isCurrentSong () {\r\n      return (song) => {\r\n        return song.name === this.currentSong.name\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nexport {\r\n  usePlayer\r\n}\r\n","import { defineStore, storeToRefs } from 'pinia'\r\nimport { usePlayer } from './player'\r\nimport _, { toNumber } from 'lodash'\r\n\r\nconst usePlaylists = defineStore('playlists', {\r\n  state: () => ({\r\n    cursor: 0,\r\n    playlists: [],\r\n    currentPlaylist: { songs: [] },\r\n    playAllSongs: false\r\n  }),\r\n  actions: {\r\n    setPlaylist (id) {\r\n      const numberId = toNumber(id)\r\n      this.currentPlaylist = _.find(this.playlists, ['id', numberId])\r\n    },\r\n    increaseCursor () {\r\n      // Do something\r\n    },\r\n    decreaseCursor () {\r\n      // Do something\r\n    },\r\n    playAll () {\r\n      this.cursor = 0\r\n      this.playAllSongs = true\r\n\r\n      const store = usePlayer()\r\n      store.play(this.currentSong)\r\n    },\r\n    startPlaylist () {\r\n      const store = usePlayer()\r\n      store.play(this.currentSong)\r\n    },\r\n    stopPlaylist () {\r\n      this.playAllSongs = false\r\n\r\n      const store = usePlayer()\r\n      store.pause()\r\n    },\r\n    nextSong () {\r\n      const store = usePlayer()\r\n      this.increaseCursor()\r\n      store.play(this.currentSong)\r\n    },\r\n    previousSong () {\r\n      const store = usePlayer()\r\n      this.decreaseCursor()\r\n      store.play(this.currentSong)\r\n    },\r\n    randomSong () {\r\n      const store = usePlayer()\r\n      // TODO: Some random number\r\n      this.cursor = 0\r\n      store.play(this.currentSong)\r\n    },\r\n    loadFromCache (forceUpdate = false) {\r\n      if (forceUpdate) {\r\n        this.playlists = this.$session.retrieve('playlists')\r\n      } else {\r\n        if (Object.keys(this.currentPlaylist).length === 0) {\r\n          this.playlists = this.$session.retrieve('playlists')\r\n        }\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    currentSong () {\r\n      return this.currentPlaylist.songs[this.cursor] || {}\r\n    },\r\n    byGenre () {\r\n      return []\r\n    },\r\n    _isPlaying () {\r\n      const store = usePlayer()\r\n      const { isPlaying } = storeToRefs(store)\r\n      return isPlaying.value\r\n    }\r\n  }\r\n})\r\n\r\nexport {\r\n  usePlaylists\r\n}\r\n","<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card bg-transparent shadow-none text-muted text-center\">\r\n        <div class=\"card-content\">\r\n          <font-awesome-icon icon=\"fa-solid fa-icons\" class=\"mb-4\" size=\"5x\" />\r\n          <h4 class=\"display-5\">\r\n            {{ content }}\r\n          </h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'EmptyIteration',\r\n  props: {\r\n    content: {\r\n      type: String,\r\n      default: 'There are no playlists available'\r\n    }\r\n  }\r\n  \r\n}\r\n</script>\r\n","import { render } from \"./EmptyIteration.vue?vue&type=template&id=27dc3b9a\"\nimport script from \"./EmptyIteration.vue?vue&type=script&lang=js\"\nexport * from \"./EmptyIteration.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const script = {}\n\nconst __exports__ = script;\n\nexport default __exports__","const script = {}\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"col-12 my-3\">\r\n    <!-- TODO: Make this independent from the store so that\r\n    any component can require an iteration of playlists from\r\n    any source -->\r\n    <div v-if=\"store.playlists.length > 0\" class=\"row\">\r\n      <article v-for=\"playlist in store.playlists\" :key=\"playlist.id\" class=\"col-sm-12 col-md-4\">\r\n        <router-link :to=\"navigateToPlaylist(playlist)\" :aria-label=\"playlist.name\" class=\"text-decoration-none text-white\">\r\n          <div class=\"card my-2\">\r\n            <img :src=\"mediaUrl(playlist.cover_image)\" :alt=\"playlist.name\" class=\"card-img-top\">\r\n            <div class=\"card-body\">\r\n              <h4 class=\"fw-bold card-title\">{{ playlist.name }}</h4>\r\n              <p class=\"card-text text-muted m-0\">{{ $t('Created by', { user: playlist.author.username }) }}</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </article>\r\n    </div>\r\n\r\n    <empty-iteration-vue v-else class=\"py-5 my-5\" content=\"There are no playlists available\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useUrls } from '@/composables/utils'\r\nimport { usePlaylists } from '../../store/playlists'\r\n\r\nimport EmptyIterationVue from '../EmptyIteration.vue'\r\n\r\nexport default {\r\n  name: 'ListPlaylists',\r\n  components: { EmptyIterationVue },\r\n  inject: {\r\n    darkMode: ['darkMode']\r\n  },\r\n  setup () {\r\n    const store = usePlaylists()\r\n    const { mediaUrl } = useUrls()\r\n    return {\r\n      store,\r\n      mediaUrl\r\n    }\r\n  },\r\n  created () {\r\n    this.getPlaylists()\r\n  },\r\n  methods: {\r\n    async getPlaylists () {\r\n      try {\r\n        if (!this.sessionStorage.hasPlaylists) {\r\n          const response = await this.$http.get('playlists')\r\n          this.store.$patch((state) => {\r\n            state.playlists = response.data\r\n  \r\n            this.$session.create('hasPlaylists', true)\r\n            this.$session.create('playlists', response.data)\r\n          })\r\n        } else {\r\n          this.store.playlists = this.sessionStorage.playlists\r\n        }\r\n      } catch (error) {\r\n        // this.$refs.alert.showAlert('error', error.message, 'PLA-RE')\r\n        console.error(error)\r\n      }\r\n    },\r\n    navigateToPlaylist (playlist) {\r\n      this.store.setPlaylist(playlist.id)\r\n      return { name: 'playlist_view', params: { id: playlist.id } }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  transition: all .3s ease;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.card .card-img-top {\r\n  box-shadow: 0 1rem 3rem rgba(0, 0, 0, .175) !important;\r\n}\r\n\r\n.card:hover {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n</style>\r\n","import { render } from \"./ListPlaylists.vue?vue&type=template&id=17a95e68&scoped=true\"\nimport script from \"./ListPlaylists.vue?vue&type=script&lang=js\"\nexport * from \"./ListPlaylists.vue?vue&type=script&lang=js\"\n\nimport \"./ListPlaylists.vue?vue&type=style&index=0&id=17a95e68&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17a95e68\"]])\n\nexport default __exports__","<template>\r\n  <section id=\"playlists\" class=\"p-5\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <button v-for=\"(choice, i) in displayChoices\" :key=\"i\" :class=\"[choice.component === activeComponent ? 'active' : null, { 'mx-2': i > 0 }]\" type=\"button\" class=\"btn btn-light\" @click=\"activeComponent = choice.component\">\r\n          {{ $t(choice.name) }}\r\n        </button>\r\n      </div>\r\n\r\n      <div v-if=\"activeComponent === 'list-playlists-vue'\" class=\"col-12 mt-4\">\r\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"create\">\r\n          <font-awesome-icon icon=\"fa-solid fa-plus\" class=\"me-2\" />\r\n          {{ $t('Create playlist') }}\r\n        </button>\r\n      </div>\r\n\r\n      <component :is=\"activeComponent\" />\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\n  import { usePlaylists } from '@/store/playlists'\r\n  \r\nimport ListArtistsVue from '../components/playlists/ListArtists.vue'\r\nimport ListAlbumsVue from '../components/playlists/ListAlbums.vue'\r\nimport ListPlaylistsVue from '../components/playlists/ListPlaylists.vue'\r\n\r\nexport default {\r\n  name: 'PlaylistsView',\r\n  components: {\r\n    ListArtistsVue,\r\n    ListAlbumsVue,\r\n    ListPlaylistsVue\r\n  },\r\n  emits: {\r\n    'display-alert': () => true\r\n  },\r\n  setup () {\r\n    const store = usePlaylists()\r\n    return {\r\n      store\r\n    }\r\n  },\r\n  data: () => ({\r\n    displayChoices: [\r\n      { name: 'Playlists', component: 'list-playlists-vue' },\r\n      { name: 'Artists', component: 'list-artists-vue' },\r\n      { name: 'Albums', component: 'list-albums-vue' }\r\n    ],\r\n    activeComponent: 'list-playlists-vue'\r\n  }),\r\n  methods: {\r\n    async create () {\r\n      try {\r\n        const response = await this.$http.post('playlists/create')\r\n        this.$session.updateArray('playlists', response.data)\r\n        this.store.loadFromCache(true)\r\n        this.$emit('display-alert', 'success', 'Playlist created', response)\r\n      } catch (error) {\r\n        this.$emit('display-alert', 'error', 'PLA-CRE', error.message)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PlaylistsView.vue?vue&type=template&id=05dcf38c\"\nimport script from \"./PlaylistsView.vue?vue&type=script&lang=js\"\nexport * from \"./PlaylistsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\mywebsites\\\\mymusic\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["asyncTimeout","ms","Promise","resolve","setTimeout","useUrls","rebuildPath","path","instance","URL","window","location","href","toString","mediaUrl","rootUrl","process","buildLimitOffset","url","limit","offset","defaultLimit","defaultOffset","potentialLimit","searchParams","get","potentialOffset","URLSearchParams","getPageFromParams","page","defaultPage","potentialPage","usePlayer","defineStore","state","isPlaying","currentSong","actions","play","song","this","pause","getters","isCurrentSong","name","usePlaylists","cursor","playlists","currentPlaylist","songs","playAllSongs","setPlaylist","id","numberId","toNumber","_","increaseCursor","decreaseCursor","playAll","store","startPlaylist","stopPlaylist","nextSong","previousSong","randomSong","loadFromCache","forceUpdate","Object","keys","length","$session","retrieve","byGenre","_isPlaying","storeToRefs","value","class","_createElementBlock","_createElementVNode","_createVNode","_component_font_awesome_icon","icon","size","_toDisplayString","$props","props","content","type","String","default","__exports__","render","script","$setup","_Fragment","_renderList","playlist","key","_component_router_link","to","$options","src","cover_image","alt","_ctx","user","author","username","_createBlock","_component_empty_iteration_vue","components","EmptyIterationVue","inject","darkMode","setup","created","getPlaylists","methods","async","sessionStorage","hasPlaylists","response","$http","$patch","data","create","error","console","navigateToPlaylist","params","choice","i","component","onClick","_hoisted_4","_resolveDynamicComponent","ListArtistsVue","ListAlbumsVue","ListPlaylistsVue","emits","displayChoices","activeComponent","post","updateArray","$emit","message"],"sourceRoot":""}