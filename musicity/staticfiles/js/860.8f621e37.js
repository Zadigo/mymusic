"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[860,612,361,722],{9255:function(t,s,e){e.d(s,{J_:function(){return n},sk:function(){return a}});e(1703),e(4806);function a(t){return new Promise((s=>setTimeout(s,t)))}function n(){function t(t){var s=new URL(t,window.location.href);return s.toString()}function s(t){var s={NODE_ENV:"production",BASE_URL:"/"}.rootUrl||"http://127.0.0.1:8000";return new URL(t,s).toString()}function e(t,s=100,e=0){let a=100,n=0;if(t){const r=new URL(t),i=r.searchParams.get("limit"),l=r.searchParams.get("offset");a=i||s,n=l||e}return new URLSearchParams({limit:a,offset:n})}function a(t,s=1){let e=1;if(t){const a=new URL(t),n=a.searchParams.get("page");e=n||s}return new URLSearchParams({page:e})}return{buildLimitOffset:e,getPageFromParams:a,mediaUrl:s,rebuildPath:t}}},7823:function(t,s,e){e.d(s,{n:function(){return n}});var a=e(3766);const n=(0,a.Q_)("player",{state:()=>({isPlaying:!1,currentSong:{}}),actions:{play(t){this.currentSong=t,this.isPlaying=!0},pause(){this.isPlaying=!1}},getters:{isCurrentSong(){return t=>t.name===this.currentSong.name}}})},6378:function(t,s,e){e.d(s,{K:function(){return l}});var a=e(3766),n=e(7823),r=e(4806),i=e.n(r);const l=(0,a.Q_)("playlists",{state:()=>({cursor:0,playlists:[],currentPlaylist:{songs:[]},playAllSongs:!1}),actions:{setPlaylist(t){const s=(0,r.toNumber)(t);this.currentPlaylist=i().find(this.playlists,["id",s])},increaseCursor(){},decreaseCursor(){},playAll(){this.cursor=0,this.playAllSongs=!0;const t=(0,n.n)();t.play(this.currentSong)},startPlaylist(){const t=(0,n.n)();t.play(this.currentSong)},stopPlaylist(){this.playAllSongs=!1;const t=(0,n.n)();t.pause()},nextSong(){const t=(0,n.n)();this.increaseCursor(),t.play(this.currentSong)},previousSong(){const t=(0,n.n)();this.decreaseCursor(),t.play(this.currentSong)},randomSong(){const t=(0,n.n)();this.cursor=0,t.play(this.currentSong)},loadFromCache(t=!1){(t||0===Object.keys(this.currentPlaylist).length)&&(this.playlists=this.$session.retrieve("playlists"))}},getters:{currentSong(){return this.currentPlaylist.songs[this.cursor]||{}},byGenre(){return[]},_isPlaying(){const t=(0,n.n)(),{isPlaying:s}=(0,a.Jk)(t);return s.value}}})},5361:function(t,s,e){e.r(s),e.d(s,{default:function(){return h}});var a=e(3396),n=e(7139);const r={class:"row"},i={class:"col-12"},l={class:"card bg-transparent shadow-none text-muted text-center"},o={class:"card-content"},c={class:"display-5"};function u(t,s,e,u,d,y){const p=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[(0,a._)("div",l,[(0,a._)("div",o,[(0,a.Wm)(p,{icon:"fa-solid fa-icons",class:"mb-4",size:"5x"}),(0,a._)("h4",c,(0,n.zw)(e.content),1)])])])])}var d={name:"EmptyIteration",props:{content:{type:String,default:"There are no playlists available"}}},y=e(89);const p=(0,y.Z)(d,[["render",u]]);var h=p},8722:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var a=e(3396),n=e(7139);const r={class:"col-12 my-3"},i={key:0,class:"row"},l={class:"card my-2"},o=["src","alt"],c={class:"card-body"},u={class:"fw-bold card-title"},d={class:"card-text text-muted m-0"};function y(t,s,e,y,p,h){const g=(0,a.up)("router-link"),m=(0,a.up)("empty-iteration-vue");return(0,a.wg)(),(0,a.iD)("div",r,[y.store.playlists.length>0?((0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.store.playlists,(s=>((0,a.wg)(),(0,a.iD)("article",{key:s.id,class:"col-sm-12 col-md-4"},[(0,a.Wm)(g,{to:h.navigateToPlaylist(s),"aria-label":s.name,class:"text-decoration-none text-white"},{default:(0,a.w5)((()=>[(0,a._)("div",l,[(0,a._)("img",{src:y.mediaUrl(s.cover_image),alt:s.name,class:"card-img-top"},null,8,o),(0,a._)("div",c,[(0,a._)("h4",u,(0,n.zw)(s.name),1),(0,a._)("p",d,(0,n.zw)(t.$t("Created by",{user:s.author.username})),1)])])])),_:2},1032,["to","aria-label"])])))),128))])):((0,a.wg)(),(0,a.j4)(m,{key:1,class:"py-5 my-5",content:"There are no playlists available"}))])}var p=e(9255),h=e(6378),g=e(5361),m={name:"ListPlaylists",components:{EmptyIterationVue:g["default"]},inject:{darkMode:["darkMode"]},setup(){const t=(0,h.K)(),{mediaUrl:s}=(0,p.J_)();return{store:t,mediaUrl:s}},created(){this.getPlaylists()},methods:{async getPlaylists(){try{if(this.sessionStorage.hasPlaylists)this.store.playlists=this.sessionStorage.playlists;else{const t=await this.$http.get("playlists");this.store.$patch((s=>{s.playlists=t.data,this.$session.create("hasPlaylists",!0),this.$session.create("playlists",t.data)}))}}catch(t){console.error(t)}},navigateToPlaylist(t){return this.store.setPlaylist(t.id),{name:"playlist_view",params:{id:t.id}}}}},f=e(89);const v=(0,f.Z)(m,[["render",y],["__scopeId","data-v-17a95e68"]]);var w=v},6612:function(t,s,e){e.r(s),e.d(s,{default:function(){return y}});var a=e(3396),n=e(7139);const r={class:"card bg-dark text-light"},i={class:"card-header d-flex justify-content-between align-items-center"},l={class:"card-body"};function o(t,s,e,o,c,u){const d=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[(0,a._)("h4",null,(0,n.zw)(e.name),1),e.to?((0,a.wg)(),(0,a.j4)(d,{key:0,to:e.to,class:"text-light"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.$t("See all")),1)])),_:1},8,["to"])):(0,a.kq)("",!0)]),(0,a._)("div",l,[(0,a.WI)(t.$slots,"default")])])}var c={name:"BaseSection",props:{name:{type:String,required:!0},to:{type:String,required:!1}}},u=e(89);const d=(0,u.Z)(c,[["render",o]]);var y=d},4860:function(t,s,e){e.r(s),e.d(s,{default:function(){return m}});var a=e(3396);const n={id:"genre"},r={class:"container my-5"},i={class:"row"},l=(0,a._)("div",{class:"col-12 text-light"},[(0,a._)("h2",{class:"display-3 fw-bold"},"Dancehall")],-1),o={class:"col-12"},c=(0,a.Uk)(" Google ");function u(t,s,e,u,d,y){const p=(0,a.up)("list-playlists-vue"),h=(0,a.up)("base-section-vue");return(0,a.wg)(),(0,a.iD)("section",n,[(0,a._)("div",r,[(0,a._)("div",i,[l,(0,a._)("div",o,[(0,a.Wm)(h,{name:"Playlists"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{playlists:d.playlists},null,8,["playlists"])])),_:1}),(0,a.Wm)(h,{name:"Novelties",class:"my-2"},{default:(0,a.w5)((()=>[c])),_:1})])])])])}var d=e(6612),y=e(8722),p={name:"GenreView",components:{BaseSectionVue:d["default"],ListPlaylistsVue:y["default"]},data(){return{playlists:[]}},created(){this.getPlaylists()},methods:{async getPlaylists(){try{const t=await this.$http.get(`playlists/official/${this.$route.params.genre}`);this.playlists=t.data}catch(t){console.error(t)}}}},h=e(89);const g=(0,h.Z)(p,[["render",u]]);var m=g}}]);
//# sourceMappingURL=860.8f621e37.js.map